

#  Spring boot+docker 半自动化部署(二)、环境说明  

微服务是最近几年刚提出的概述，通过注册中心，api网关，配置中心，监控中心等概念引入用来解决单体应用种种问题，当然同时也带来大量的其它问题。

首先微服务需要大量的组件如注册中心，api网关，配置中心，监控中心等，这些组件需要部署监控及管理，工作量巨大，大大增加了运维的工作量。
另外把一个单一的应用拆分成多个微服务，其发布部署也是一套烦琐的事情。
当然，微服务也在发展，**服务网格技术**或许能简化一下。

本次实验采用最简单的部署环境，把日志，调用链等都忽略掉，留下了注册中心，api网关、负载均衡等最基本的功能，这是最重要的功能，通过这些功能就可以看出微服务部署的基本架构。

下图1给出本次实验的环境。

![logo](https://github.com/mgicode/mgicode-k8s-shell/blob/master/doc/01pic/20171122-1423002x.png)

图1 微服务基本环境说明图
 ### （1）	负载均衡
这里负载均衡主要是用于对于API网关进行服务端的负载处理，当然也可以用来正反向代理，流量统计等。这里本来需要采用VIP作高可用，防单点故障。这里仅仅使用一台，问题也不是很大。
 ### （2）	API网关
API网关是自己开发的程序，可以采用spring boot ZUUL等相关API网关。API 网关采用Docker容器进行部署。并把其注册到Consul注册中心。
 ###  （3）	微服务
所有的服务都发布在微服务的机器上，采用Docker容器进行部署。
 ### （4）	注册中心Consul
注册中心有很多种，如zookeeper、consul 、etcd、eureka等，这里采用现在很流行的consul 
 ### （5）	其它 
其它如mongodb、reddis是微服务必要的数据存储，但是对于本次实验的作用并不是很大。

